// file to be included by other examples which can configure their producers
// and runs and use this model / plugin settings defined here.

gaussoverflat = {
    observables = {
        mass = {
            range = (500.0, 1500.0);
            nbins = 200;
        };
     };

    //the parameters of the model are the number of signal and
    // background events after the selection
    parameters = {
        s={
            default = 200.0;
            range = (0.0, "inf");
        };
        b={
            default = 1600.0;
            range = (0.0, "inf");
        };
    };

    //specification of the "mass" observable
    mass = {
        //gaussian signal:
        signal = { // "signal" is a name you can choose freely here
            coefficients = ("s");
            histogram = {
                type = "fixed-gauss";
                // In this case, we need to specify the observable here again,
                // as this defines the range and binning of the histogram (and
                // the configuration of the histogram works exactly the same
                // outside of an observable specification).
                observable = "mass";
                // the sum of bin entries should be 1.0 (such that "s" is the
                // number of events, not some multiple of that).
                normalize_to = 1.0;
                mean = 1000.0;
                width = 250.0;
            };
        };
        
        //flat background:
        bkg = {
            coefficients = ("b");
            histogram = {
                type = "fixed-poly";
                observable = "mass";
                normalize_to = 1.0;
                //coefficients of the polynomial, starting with x^0
                coefficients = [1.0];
            };
        };
    };

    constraints = {
        c = { // the name "c" can be chosen at will
            //multivariate gaussian:
            type = "gauss";
            // list of parameters the gaussian depends on:
            parameters = ("b");
            // means (same order as parameters)
            mean = [1000.0];
            // covariance matrix as list of arrays, i.e. 3x3 matrix = ([],[],[]):
            covariance = ([40000.0]);
        };
    };
};

plugins = {
  files = ("lib/core-plugins.so", "lib/root.so");
};

