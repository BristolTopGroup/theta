parameters = ("Theta", "mu");

observables = {
   o = {
      nbins = 1;
      range = [0.0, 1.0];
   };
};


flat-unit-histo = {
    type = "fixed_poly";
    observable = "o";
    normalize_to = 1.0;
    coefficients = [1.0];
};

counting = {
   o = {
      signal = {
          coefficient-function = { type = "mult"; parameters = ("Theta");};
          histogram = "@flat-unit-histo";
      };
      background = {
          coefficient-function = { type = "mult"; parameters = ("mu");};
          histogram = "@flat-unit-histo";
      };
   };
   
   parameter-distribution = {
      type = "product_distribution";
      distributions = ({type = "delta_distribution";  mu = 3.0;}, 
           {type = "flat_distribution"; Theta = {   range = (1E-12, "inf"); fix-sample-value = 1.0; };});
   };
};

writer = {
   type = "pseudodata_writer";
   name = "pd";
   observables = ("o");
   write-data = false;
};





main = {
   type = "neyman_belt";
   cls = [0.68];
   ordering_rule = "fclike";
   fclike_options = {
       model = "@counting";
       truth = "Theta";
       ts_producer = "@writer";
   };
   toy_database = {
      type = "sqlite_database_in";
      filenames = ("neymancounting2.db");
   };
   truth_column = "source__Theta";
   ts_column = "pd__n_events_o";
   output_database = {
      type = "sqlite_database";
      filename = "neymancounting-band.db";
   };
   force_increasing_belt = false;
};



options = {
   plugin_files = ("$THETA_DIR/lib/core-plugins.so");
};


